!function(a){"use strict";var b=function(a,b){return b?"string"==typeof b&&(b=document.querySelector(b)):b=document,"object"==typeof b&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(b))&&Object.prototype.hasOwnProperty.call(b,"length")&&b.length>0&&b[0].nodeType>0&&(b=b[0]),null!==b&&b.nodeType||(b=document),b.querySelectorAll(a)};b.onkeytab="tab",b.onkeyenter="enter",b.onkeyesc="esc",b.onkeyleftarrow="left_arrow",b.onkeyuparrow="up_arrow",b.onkeyrightarrow="right_arrow",b.onkeydownarrow="down_arrow",b.onkeybackspace="backspace",b.factory=function(a){var c=a.prototype.name;b[c.charAt(0).toUpperCase()+c.substr(1)]=a},tiny.removeClass(document.documentElement,"no-js");for(var c in tiny)/^on\w+/.test(c)&&"string"==typeof tiny[c]&&(b[c]=tiny[c]);b.version="2.0.9",a.ch=b}(this),function(a){"use strict";function b(){function a(a){d._content.innerHTML=a.response,d.emit("_contentchange"),d.emit("content"+a.status,a)}function b(a){void 0!==a.nodeType?(d._content.innerHTML="",d._content.appendChild(a)):d._content.innerHTML=a,d._options.cache=!0,d.emit("_contentchange"),d.emit("contentdone")}function c(b,c){var f;c=tiny.extend({method:"GET",params:"",waiting:'<div class="ch-loading-large"></div>'},e,c),a({status:"waiting",response:c.waiting}),f={method:c.method,success:function(b){a({status:"done",response:b})},error:function(b){a({status:"error",response:"<p>Error on ajax call.</p>",data:b.message||JSON.stringify(b)})}},void 0!==c.cache&&(d._options.cache=c.cache),c.cache===!1&&["GET","HEAD"].indexOf(c.method.toUpperCase())!==-1&&(f.cache=!1),c.params&&(["GET","HEAD"].indexOf(c.method.toUpperCase())!==-1?b+=(b.indexOf("?")!==-1||"?"===c.params[0]?"":"?")+c.params:f.data=c.params),tiny.ajax(b,f)}var d=this,e={method:this._options.method,params:this._options.params,cache:this._options.cache,waiting:this._options.waiting};this.content=function(a,e){var f;return void 0===a?d._content.innerHTML:(d._options.content=a,void 0===d._options.cache&&(d._options.cache=!0),"string"==typeof a?/^(((https|http|ftp|file):\/\/)|www\.|\.\/|(\.\.\/)+|(\/{1,2})|(\d{1,3}\.){3}\d{1,3})(((\w+|-)(\.?)(\/?))+)(\:\d{1,5}){0,1}(((\w+|-)(\.?)(\/?)(#?))+)((\?)(\w+=(\w?)+(&?))+)?(\w+#\w+)?$/.test(a)?c(a.replace(/#.+/,""),e):b(a):void 0!==a.nodeType&&(tiny.removeClass(a,"ch-hide"),f=tiny.parent(a),b(a),d._options.cache||f.removeChild(a)),d)},this.once("_show",function(){d.content(d._options.content),d.on("show",function(){d._options.cache||d.content(d._options.content)})})}a.Content=b}(this.ch),function(a){"use strict";function b(){function a(b){i&&(tiny.removeClass(f.container,"ch-fx-"+h),/^slide/.test(h)&&(f.container.style.height="")),tiny.removeClass(f.container,"ch-hide"),f.container.setAttribute("aria-hidden","false"),b&&b.target.removeEventListener(b.type,a),f.emit("show")}function b(a){i&&(tiny.removeClass(f.container,"ch-fx-"+c[h]),f.container.style.display="",/^slide/.test(h)&&(f.container.style.height="")),tiny.addClass(f.container,"ch-hide"),f.container.setAttribute("aria-hidden","true"),a&&a.target.removeEventListener(a.type,b),f.emit("hide")}var d,e,f=this,g="ch-"+this.name+"-trigger-on",h=this._options.fx,i=tiny.support.transition&&"none"!==h&&h!==!1;this._shown=!1,this._show=function(){if(f._shown=!0,void 0!==f.trigger&&tiny.addClass(f.trigger,g),f.emit("beforeshow"),i){var j=0;tiny.off(f.container,tiny.support.transition.end,b),tiny.removeClass(f.container,"ch-fx-"+c[h]),tiny.on(f.container,tiny.support.transition.end,a),f.container.style.display="block",/^slide/.test(h)&&(d&&e||(d=tiny.css(f.container,"padding-top"),e=tiny.css(f.container,"padding-bottom"),f.container.style.marginTop=f.container.style.marginBottom=f.container.style.paddingTop=f.container.style.paddingBottom="0px"),f.container.style.opacity="0.01",j=f.container.offsetHeight,f.container.style.opacity="",f.container.style.height="0px"),setTimeout(function(){/^slide/.test(h)&&(f.container.style.height=j+"px"),f.container.style.paddingTop=d,f.container.style.paddingBottom=e,tiny.addClass(f.container,"ch-fx-"+h)},0)}else a();return f.emit("_show"),f},this._hide=function(){return f._shown=!1,void 0!==f.trigger&&tiny.removeClass(f.trigger,g),f.emit("beforehide"),i?(tiny.off(f.container,tiny.support.transition.end,a),tiny.removeClass(f.container,"ch-fx-"+h),tiny.on(f.container,tiny.support.transition.end,b),/^slide/.test(h)?(f.container.style.height=tiny.css(f.container,"height"),setTimeout(function(){f.container.style.height="0px",f.container.style.paddingTop=f.container.style.paddingBottom="0px",tiny.addClass(f.container,"ch-fx-"+c[h])},0)):setTimeout(function(){tiny.addClass(f.container,"ch-fx-"+c[h])},0)):b(),f},this._toggle=function(){return f._shown?f.hide():f.show(),f},this.on("disable",this.hide)}var c={slideDown:"slideUp",slideUp:"slideDown",fadeIn:"fadeOut",fadeOut:"fadeIn"};a.Collapsible=b}(this.ch),function(a,b){"use strict";function c(){var a=e?b.onresize:b.onscroll;this.refresh(),e=!1,f=!1,this.emit(a)}function d(){this._init()}var e=!1,f=!1,g=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)}}();tiny.inherits(d,tiny.EventEmitter),d.prototype._init=function(){function d(){e||(e=!0,g(function(){c.call(i)}))}function h(){f||(f=!0,g(function(){c.call(i)}))}this.setMaxListeners(0);var i=this;this.el=a,this.refresh(),tiny.on(a,b.onscroll,h,!1),tiny.on(a,b.onresize,d,!1)},d.prototype.calculateClientRect=function(){return this.top=this.left=0,this.bottom=Math.max(this.el.innerHeight||0,document.documentElement.clientHeight),this.right=Math.max(this.el.innerWidth||0,document.documentElement.clientWidth),this},d.prototype.calculateDimensions=function(){return this.calculateClientRect(),this.height=this.bottom,this.width=this.right,this},d.prototype.calculateOffset=function(){var a=tiny.scroll();return this.offsetTop=a.top,this.offsetLeft=a.left,this.offsetRight=this.left+this.width,this.offsetBottom=this.offsetTop+this.height,this},d.prototype.calculateOrientation=function(){return this.orientation=90===Math.abs(this.el.orientation)?"landscape":"portrait",this},d.prototype.inViewport=function(a){var b=a.getBoundingClientRect();return b.top>0&&b.right<this.width&&b.bottom<this.height&&b.left>0},d.prototype.isVisible=function(a){var b=a.getBoundingClientRect();return b.height>=this.offsetTop},d.prototype.refresh=function(){return this.calculateDimensions(),this.calculateOffset(),this.calculateOrientation(),this},b.viewport=new d}(this,this.ch),function(a,b){"use strict";function c(b){if(void 0===b)throw new a.Error("ch.Positioner: Expected options defined.");this._options=tiny.clone(this._defaults),this._configure(b)}c.prototype.name="positioner",c.prototype._constructor=c,c.prototype._defaults={offsetX:0,offsetY:0,side:"center",align:"center",reference:b.viewport,position:"fixed"},c.prototype._configure=function(a){return tiny.extend(this._options,a),this._options.offsetX=parseInt(this._options.offsetX,10),this._options.offsetY=parseInt(this._options.offsetY,10),this.target=a.target||this.target,this.reference=a.reference||this.reference,this._reference=this._options.reference,this.target.style.position=this._options.position,this},c.prototype.refresh=function(a){return void 0!==a&&this._configure(a),this._reference!==b.viewport&&this._calculateReference(),this._calculateTarget(),this._setPoint(),this},c.prototype._calculateReference=function(){var a,b=this.reference;return b.setAttribute("data-side",this._options.side),b.setAttribute("data-align",this._options.align),this._reference=this._getOuterDimensions(b),b.offsetParent===this.target.offsetParent?(this._reference.left=b.offsetLeft,this._reference.top=b.offsetTop):(a=tiny.offset(b),this._reference.left=a.left,this._reference.top=a.top),this},c.prototype._calculateTarget=function(){var a=this.target;return a.setAttribute("data-side",this._options.side),a.setAttribute("data-align",this._options.align),this._target=this._getOuterDimensions(a),this},c.prototype._getOuterDimensions=function(a){var b=a.getBoundingClientRect();return{width:b.right-b.left,height:b.bottom-b.top}},c.prototype._setPoint=function(){var a,b,c=this._options.side,d="top"===c||"bottom"===c?"horizontal":"right"===c||"left"===c?"vertical":"center";return"center"===d?a={top:this._reference.top+(this._reference.height/2-this._target.height/2),left:this._reference.left+(this._reference.width/2-this._target.width/2)}:"horizontal"===d?(b={left:this._reference.left,center:this._reference.left+(this._reference.width/2-this._target.width/2),right:this._reference.left+this._reference.width-this._target.width,top:this._reference.top-this._target.height,bottom:this._reference.top+this._reference.height},a={top:b[c],left:b[this._options.align]}):(b={top:this._reference.top,center:this._reference.top+(this._reference.height/2-this._target.height/2),bottom:this._reference.top+this._reference.height-this._target.height,right:this._reference.left+this._reference.width,left:this._reference.left-this._target.width},a={top:b[this._options.align],left:b[c]}),a.top+=this._options.offsetY,a.left+=this._options.offsetX,this.target.style.top=a.top+"px",this.target.style.left=a.left+"px",this},b.Positioner=c}(this,this.ch),function(a,b){"use strict";var c=a.document,d={8:b.onkeybackspace,9:b.onkeytab,13:b.onkeyenter,27:b.onkeyesc,37:b.onkeyleftarrow,38:b.onkeyuparrow,39:b.onkeyrightarrow,40:b.onkeydownarrow},e={_active:null,_queue:[],_collection:{},add:function(a,b,c){return void 0===this._collection[b]&&(this._collection[b]={}),void 0===this._collection[b][a]&&(this._collection[b][a]=[]),this._collection[b][a].push(c),this},remove:function(a,b,c){var d,e,f;if(void 0===a)throw new Error('Shortcuts - "remove(name, shortcut, callback)": "name" parameter must be defined.');if(void 0===b)return delete this._collection[a],this;if(void 0===c)return delete this._collection[a][b],this;for(e=this._collection[a][b],f=e.length,d=0;d<f;d+=1)e[d]===c&&e.splice(d,1);return this},on:function(a){var b=this._queue.length,c=b-1;for(c;c>=0;c-=1)this._queue[c]===a&&this._queue.splice(c,1);return this._queue.push(a),this._active=a,this},off:function(a){var b=this._queue.length,c=b-1;for(c;c>=0;c-=1)this._queue[c]===a&&(this._queue.splice(c,1),this._queue.length>0?this._active=this._queue[this._queue.length-1]:this._active=null);return this}},f=function(a){var b,c,f=a.keyCode.toString(),g=d[f],h=0;if(void 0!==g&&null!==e._active&&(b=e._collection[e._active][g],a.shortcut=g,void 0!==b))for(c=b.length,h=0;h<c;h+=1)b[h](a)};tiny.on(c,"keydown",f),b.shortcuts=e}(this,this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}var d=0;tiny.inherits(c,tiny.EventEmitter),c.prototype.name="component",c.prototype.constructor=c,c.prototype._init=function(a,c){this.setMaxListeners(0);var e=this._defaults?tiny.clone(this._defaults):{};if(null===a)throw new Error('The "el" parameter is not present in the DOM');this.uid=d+=1,void 0!==a&&void 0!==a.nodeType&&1===a.nodeType?(this._el=a,this._el.setAttribute("data-uid",this.uid),this._options=tiny.extend(e,c)):(void 0===a||void 0===a.nodeType&&"object"==typeof a)&&(this._options=tiny.extend(e,a)),this._enabled=!0,b.instances=b.instances||{},b.instances[this.uid]=this},c.prototype.require=function(){var a,c=0,d=arguments.length;for(c;c<d;c+=1)a=arguments[c],void 0===this[a.toLowerCase()]&&b[a].call(this);return this},c.prototype.enable=function(){return this._enabled=!0,this.emit("enable"),this},c.prototype.disable=function(){return this._enabled=!1,this.emit("disable"),this},c.prototype.destroy=function(){this.disable(),void 0!==this._el&&(delete b.instances[this._el.getAttribute("data-uid")],this._el.removeAttribute("data-uid")),this.emit("destroy")},b.Component=c}(this,this.ch),function(a,b){"use strict";function c(b,c){var d=this;d._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(c,b.Component);var d=c.super_.prototype;c.prototype.name="form",c.prototype.constructor=c,c.prototype._init=function(a,c){d._init.call(this,a,c);var e=this;return this.errors=[],this._messages=this._options.messages||{},this.validations=[],this.container=this._el,tiny.addClass(this.container,"ch-form"),this.container.setAttribute("novalidate","novalidate"),tiny.on(this.container,"submit",function(a){e.validate(a)}),this.container.querySelector('input[type="reset"]')&&tiny.on(this.container.querySelector('input[type="reset"]'),b.onpointertap,function(a){a.preventDefault(),e.reset()}),this.on("error",function(){}),this.on("disable",this.clear),this},c.prototype.validate=function(a){if(!this._enabled)return this;this.emit("beforevalidate");var b,c,d,e,f=this,g=0,h=f.validations.length;for(this.errors.length=0,g;g<h;g+=1)b=f.validations[g],b.validate(),b.isShown()&&f.errors.push(b);if(f.errors.length>0){for(c=f.errors[0],d=c.trigger;"none"===tiny.css(d,"display")&&d!==document.documentElement;)d=d.parentElement;d.scrollIntoView(),e=c.trigger,"DIV"===e.tagName&&c.trigger.querySelector("input:first-child").focus(),"hidden"===e.type&&"SELECT"!==e.tagName||e.focus(),a&&a.preventDefault&&a.preventDefault(),this.emit("error",this.errors)}else this.emit("success",a);return this},c.prototype.hasError=function(){if(!this._enabled)return!1;this.errors.length=0;var a,b=0,c=this.validations.length;for(b;b<c;b+=1)a=this.validations[b],a.hasError()&&this.errors.push(a);return this.errors.length>0},c.prototype.clear=function(){var a=0,b=this.validations.length;for(a;a<b;a+=1)this.validations[a].clear();return this.emit("clear"),this},c.prototype.reset=function(){return this.clear(),this._el.reset(),this.emit("reset"),this},c.prototype.destroy=function(){this.container.removeAttribute("novalidate"),this.validations.forEach(function(a){a.destroy()}),d.destroy.call(this)},b.factory(c)}(this,this.ch),function(a){"use strict";function b(a){return tiny.extend(this,c[a.name],a),"min"!==this.name&&"max"!==this.name&&"minLength"!==this.name&&"maxLength"!==this.name||(this.message=this.message.replace("{#num#}",this.num)),this._enabled=!0,this}var c={string:{fn:function(a){return/^([a-zA-Z\u00C0-\u00C4\u00C8-\u00CF\u00D2-\u00D6\u00D9-\u00DC\u00E0-\u00E4\u00E8-\u00EF\u00F2-\u00F6\u00E9-\u00FC\u00C7\u00E7\s]*)$/i.test(a)},message:"Use only letters."},email:{fn:function(a){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},message:"Use a valid e-mail such as name@example.com."},url:{fn:function(a){return/^((https?|ftp|file):\/\/|((www|ftp)\.)|(\/|.*\/)*)[a-z0-9-]+((\.|\/)[a-z0-9-]+)+([\/?].*)?$/i.test(a)},message:"It must be a valid URL."},minLength:{fn:function(a,b){return a.length>=b},message:"Enter at least {#num#} characters."},maxLength:{fn:function(a,b){return a.length<=b},message:"The maximum amount of characters is {#num#}."},number:{fn:function(a){return/^(-?[0-9]+)$/i.test(a)},message:"Use only numbers."},max:{fn:function(a,b){return a<=b},message:"The amount must be smaller than {#num#}."},min:{fn:function(a,b){return a>=b},message:"The amount must be higher than {#num#}."},required:{fn:function(a){var b,c=tiny.hasClass(this.trigger,"ch-form-options")?"OPTIONS":this._el.tagName;switch(c){case"OPTIONS":b=0!==this.trigger.querySelectorAll("input:checked").length;break;case"SELECT":b="-1"!==a&&""!==a;break;default:b=0!==a.replace(/^\s+|\s+$/g,"").length}return b},message:"Fill in this information."},custom:{message:"Error"}};b.prototype.name="condition",b.prototype.constructor=b,b.prototype.enable=function(){return this._enabled=!0,this},b.prototype.disable=function(){return this._enabled=!1,this},b.prototype.test=function(a,b){return!this._enabled||this.fn.call(b,a,this.num)},a.Condition=b}(this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}function d(a){c.prototype[a]=function(b){var c;if(void 0!==b&&void 0!==this.conditions[b])this.conditions[b][a]();else{for(c in this.conditions)void 0!==this.conditions[c]&&this.conditions[c][a]();e[a].call(this)}return this}}tiny.inherits(c,b.Component);var e=c.super_.prototype,f=["enable","disable"],g=f.length;for(c.prototype.name="validation",c.prototype.constructor=c,c.prototype._defaults={offsetX:10},c.prototype._init=function(a,c){var d=this;return e._init.call(this,a,c),this.trigger=this._el,this._configureContainer(),this.conditions={},this._mergeConditions(c.conditions),this._shown=!1,this.error=null,this.on("disable",this.clear),this.on("error",this._handleError),this.form=b.instances[tiny.parent(d.trigger,"form").getAttribute("data-uid")]||new b.Form(tiny.parent(d.trigger,"form")),this.form.validations.push(this),this._validationEvent=tiny.hasClass(this.trigger,"ch-form-options")||"SELECT"===this._el.tagName||"INPUT"===this._el.tagName&&"range"===this._el.type?"change":"blur",this},c.prototype._mergeConditions=function(a){var c=0,d=a.length;for(c;c<d;c+=1)this.conditions[a[c].name]=new b.Condition(a[c]);return this},c.prototype.validate=function(){return this.hasError()?this._error():this._success(),this},c.prototype._error=function(){var a,b=this;return tiny.on(this.trigger,this._validationEvent,function(){(a!==this.value||"change"===b._validationEvent&&b.isShown())&&(a=this.value,b.validate()),void 0===b.conditions.required&&""===this.value&&b.clear()}),this.emit("error",this.error),this},c.prototype._handleError=function(a){var b=this;b._previousError.condition&&b._shown||("INPUT"!==b._el.nodeName&&"TEXTAREA"!==b._el.nodeName||tiny.addClass(b.trigger,"ch-validation-error"),b._showErrorMessage(a.message||"Error")),a.condition!==b._previousError.condition&&b._showErrorMessage(a.message||b.form._messages[a.condition]||"Error"),b._shown=!0},c.prototype._success=function(){return!this._shown&&this._enabled||(this._shown=!1),this.trigger.removeAttribute("aria-label"),tiny.removeClass(this.trigger,"ch-validation-error"),this._hideErrorMessage(),this.emit("success"),this},c.prototype.hasError=function(){if(this.trigger.getAttribute("disabled")||!this._enabled)return!1;var a,b=this.conditions.required,c=this._el.value;if(!b&&""===c&&this._shown===!1)return!1;this._previousError=tiny.clone(this.error);for(a in this.conditions)if(void 0!==this.conditions[a]&&!this.conditions[a].test(c,this))return this.error={condition:a,message:this.conditions[a].message},!0;return this.error=null,!1},c.prototype.clear=function(){return this.trigger.removeAttribute("aria-label"),tiny.removeClass(this.trigger,"ch-validation-error"),this.error=null,this._hideErrorMessage(),this._shown=!1,this.emit("clear"),this},c.prototype.isShown=function(){return this._shown},c.prototype.message=function(a,b){if(void 0===a)throw new Error("validation.message(condition, message): Please, a condition parameter is required.");return void 0===b?this.conditions[a].message:(this.conditions[a].message=b,this.isShown()&&this.error.condition===a&&this._showErrorMessage(b),this)};g;)d(f[g-=1]);c.prototype.destroy=function(){this.trigger.removeAttribute("data-side data-align"),e.destroy.call(this)},b.factory(c)}(this,this.ch),function(a){"use strict";a.Validation.prototype._configureContainer=function(){var b=this;this.bubble=this._container=new a.Bubble({reference:b._options.reference||function(){var a,c,d,e=b.trigger;return tiny.hasClass(e,"ch-form-options")?e.querySelectorAll("h4").length>0?(c=e.querySelector("h4"),d=document.createElement("span"),d.insertAdjacentHTML("beforeend",c.innerHTML),c.innerHTML="",c.insertBefore(d,c.firstChild),a=c.children[0]):a=e.previousElementSibling&&"LEGEND"===e.previousElementSibling.tagName?e.previousElementSibling:e.querySelector("label"):a=e,a}(),align:b._options.align,side:b._options.side,offsetY:b._options.offsetY,offsetX:b._options.offsetX})},a.Validation.prototype._showErrorMessage=function(a){return this.bubble.content(a).show(),this.trigger.setAttribute("aria-label","ch-"+this.bubble.name+"-"+this.bubble.uid),this},a.Validation.prototype._hideErrorMessage=function(){return this.bubble.hide(),this.trigger.removeAttribute("aria-label"),this},a.Validation.prototype.refreshPosition=function(a){return void 0===a?this.bubble._position:(this.bubble.refreshPosition(a),this)}}(this.ch),function(a,b){"use strict";function c(a){return("string"==typeof a||a instanceof HTMLElement)&&(a={content:a}),a}function d(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(d,b.Component);var e=d.super_.prototype;d.prototype.name="expandable",d.prototype.constructor=d,d.prototype._defaults={_classNameTrigger:"ch-expandable-trigger",_classNameIcon:"ch-expandable-ico",_classNameContainer:"ch-expandable-container",fx:!1,toggle:!0},d.prototype._init=function(c,d){e._init.call(this,c,d),this.require("Collapsible","Content");var f=this;return this.trigger=this._el,tiny.addClass(this.trigger,this._options._classNameTrigger),tiny.addClass(this.trigger,this._options._classNameIcon),navigator.pointerEnabled&&tiny.on(this._el,"click",function(a){"A"===a.target.tagName&&a.preventDefault()}),tiny.on(this.trigger,b.onpointertap,function(a){b.pointerCanceled||(a.preventDefault(),f._options.toggle?f._toggle():f.show())}),this.container=this._content=this._options.container?this._options.container:tiny.next(this._el),tiny.addClass(this.container,this._options._classNameContainer),tiny.addClass(this.container,"ch-hide"),tiny.support.transition&&"none"!==this._options.fx&&this._options.fx!==!1&&tiny.addClass(this.container,"ch-fx"),this.container.setAttribute("aria-expanded","false"),""===this.container.getAttribute("id")&&this.container.setAttribute("id","ch-expandable-"+this.uid),this.trigger.setAttribute("aria-controls",this.container.getAttribute("id")),this.on("show",function(){tiny.trigger(a.document,b.onlayoutchange)}).on("hide",function(){tiny.trigger(a.document,b.onlayoutchange)}),this.trigger.setAttribute("unselectable","on"),tiny.addClass(this.trigger,"ch-user-no-select"),this},d.prototype.show=function(a,b){return this._enabled?(this._show(),this.container.setAttribute("aria-expanded","true"),void 0!==a&&this.content(a,b),this):this},d.prototype.hide=function(){return this._enabled?(this._hide(),this.container.setAttribute("aria-expanded","false"),this):this},d.prototype.isShown=function(){return this._shown},d.prototype.destroy=function(){var c=this.trigger;["ch-expandable-trigger","ch-expandable-ico","ch-user-no-select"].forEach(function(a){tiny.removeClass(c,a)}),this.trigger.removeAttribute("unselectable"),this.trigger.removeAttribute("aria-controls"),tiny.removeClass(this.container,"ch-expandable-container"),tiny.removeClass(this.container,"ch-hide"),this.container.removeAttribute("aria-expanded"),this.container.removeAttribute("aria-hidden"),tiny.trigger(a.document,b.onlayoutchange),e.destroy.call(this)},b.factory(d,c)}(this,this.ch),function(a,b){"use strict";function c(b,c){var d=this;d._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}function d(a){c.prototype[a]=function(b){var c,d=this.folds[b-1];if(d&&"expandable"===d.name)d[a]();else{for(c=this.folds.length;c;)d=this.folds[c-=1],"expandable"===d.name&&d[a]();e[a].call(this),this._el.setAttribute("aria-disabled",!this._enabled)}return this}}tiny.inherits(c,b.Component);var e=c.super_.prototype,f=["enable","disable"],g=f.length;for(c.prototype.name="menu",c.prototype.constructor=c,c.prototype._defaults={fx:"slideDown"},c.prototype._init=function(a,b){return e._init.call(this,a,b),this._snippet=this._el.cloneNode(!0),this.container=this._el,this.container.setAttribute("role","navigation"),tiny.addClass(this.container,"ch-menu"),this._options._className?tiny.addClass(this.container,this._options._className):null,this._options.addClass?tiny.addClass(this.container,this._options.addClass):null,this.folds=[],this._createExpandables(),this},c.prototype._createExpandables=function(){function a(a,e){var f,g;tiny.addClass(a,"ch-menu-fold"),c=a.children[0],"A"===c.tagName?(a.setAttribute("role","presentation"),tiny.addClass(c,"ch-fold-trigger"),d.folds.push(c)):(f=new b.Expandable(c,{fx:d._options.fx}),f.on("show",function(){d.emit("show",e+1)}).on("hide",function(){d.emit("hide")}),g=tiny.next(c),g.setAttribute("role","menu"),Array.prototype.forEach.call(g.children,function(a){a.setAttribute("role","presentation"),a.children[0]?a.children[0].setAttribute("role","menuitem"):null}),d.folds.push(f))}var c,d=this;return Array.prototype.forEach.call(this.container.children,a),this},c.prototype.show=function(a){return this.folds[a-1].show(),this},c.prototype.hide=function(a){return this.folds[a-1].hide(),this},c.prototype.content=function(b,c,d){if(void 0===b||"number"!=typeof b)throw new a.Error("Menu.content(fold, content, options): Expected number of fold.");return void 0===c?this.folds[b-1].content():(this.folds[b-1].content(c,d),this)};g;)d(f[g-=1]);c.prototype.destroy=function(){this.folds.forEach(function(a){void 0!==a.destroy&&a.destroy()}),this._el.parentNode.replaceChild(this._snippet,this._el),tiny.trigger(a.document,b.onlayoutchange),e.destroy.call(this)},b.factory(c)}(this,this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(c,b.Component);var d=a.document,e=c.super_.prototype,f={pointertap:b.onpointertap,pointerenter:b.onpointerenter};c.prototype.name="popover",c.prototype.constructor=c,c.prototype._defaults={_ariaRole:"dialog",_className:"",_hideDelay:400,addClass:"",fx:"fadeIn",width:"auto",height:"auto",shownby:"pointertap",hiddenby:"button",waiting:'<div class="ch-loading ch-loading-centered"></div>',position:"absolute",wrapper:!1},c.prototype._init=function(c,f){e._init.call(this,c,f),this.require("Collapsible","Content");var g=this,h=d.createElement("div");return this._configureWrapper(),h.innerHTML=["<div",' class="ch-popover ch-hide '+this._options._className+" "+this._options.addClass+(tiny.support.transition&&"none"!==this._options.fx&&this._options.fx!==!1?" ch-fx":"")+'"',' role="'+this._options._ariaRole+'"',' id="ch-'+this.name+"-"+this.uid+'"',' style="width:'+this._options.width+";height:"+this._options.height+'"',"></div>"].join(""),this.container=h.querySelector("div"),tiny.on(this.container,b.onpointertap,function(a){a.stopPropagation()}),this._content=d.createElement("div"),tiny.addClass(this._content,"ch-popover-content"),this.container.appendChild(this._content),this._configureTrigger(),this._positioner=new b.Positioner({target:this.container,reference:this._options.reference,side:this._options.side,align:this._options.align,offsetX:this._options.offsetX,offsetY:this._options.offsetY,position:this._options.position}),this._refreshPositionListener=function(){return g._shown&&g._positioner.refresh(f),g},this._hideTimer=function(){g._timeout=a.setTimeout(function(){g.hide()},g._options._hideDelay)},this._hideTimerCleaner=function(){a.clearTimeout(g._timeout)},this._configureHiding(),tiny.on(d,b.onlayoutchange,this._refreshPositionListener),b.viewport.on(b.onresize,this._refreshPositionListener),this.once("_show",this._refreshPositionListener).on("_contentchange",this._refreshPositionListener),this},c.prototype._configureTrigger=function(){if(void 0!==this._el){var a=this,b=function(){var b=a._toggle;return"pointerenter"!==a._options.shownby&&"none"!==a._options.hiddenby&&"button"!==a._options.hiddenby||(b=function(){a._shown||a.show()}),b}();this._snippet=this._el.cloneNode(!0),this._options.reference=this._options.reference||this._el,"none"!==this._options.shownby&&(tiny.addClass(this._el,"ch-shownby-"+this._options.shownby),this._options.shownby===f.pointertap&&navigator.pointerEnabled&&tiny.on(this._el,"click",function(a){a.preventDefault()}),tiny.on(this._el,f[this._options.shownby],function(a){a.stopPropagation(),a.preventDefault(),b()})),void 0===this._options.content&&("A"===this._el.nodeName&&""!==this._el.href?this._options.content=this._el.href:""===this._el.title&&""===this._el.alt||(this._options.content=this._el.title||this._el.alt,this._el.setAttribute("data-title",this._options.content),this._el.title=this._el.alt="")),this._el.setAttribute("aria-owns","ch-"+this.name+"-"+this.uid),this._el.setAttribute("aria-haspopup","true"),this.trigger=this._el}},c.prototype._configureHiding=function(){var a,c,e=this,f=this._options.hiddenby;"none"!==f&&("pointerleave"===f&&void 0!==this.trigger&&([this.trigger,this.container].forEach(function(a){tiny.on(a,b.onpointerenter,e._hideTimerCleaner)}),[this.trigger,this.container].forEach(function(a){tiny.on(a,b.onpointerleave,e._hideTimer)})),"button"!==f&&"all"!==f||(a=d.createElement("div"),a.innerHTML='<i class="ch-close" role="button" aria-label="Close"></i>',c=a.querySelector("i"),tiny.on(c,b.onpointertap,function(){e.hide()}),this.container.insertBefore(c,this.container.firstChild)),"pointers"!==f&&"all"!==f||void 0===this._hidingShortcuts||this._hidingShortcuts())},c.prototype._normalizeOptions=function(a){return("string"==typeof a||"object"==typeof a&&1===a.nodeType)&&(a={content:a}),a},c.prototype._configureWrapper=function(){var a=this._el||this._options.reference,b=this._options.wrapper;b&&a&&1===a.nodeType?(b=d.createElement("span"),tiny.addClass(b,"ch-popover-wrapper"),"string"==typeof this._options.wrapper&&this._options.wrapper.split(" ").forEach(function(a){tiny.addClass(b,a)}),tiny.parent(a).insertBefore(b,a),b.appendChild(a),"static"===tiny.css(b,"position")&&tiny.css(b,{display:"inline-block",position:"relative"}),this._containerWrapper=b):this._containerWrapper=d.body},c.prototype.show=function(a,b){return!this._enabled||this._shown?this:(this._containerWrapper.appendChild(this.container),this._show(),void 0!==a&&this.content(a,b),this)},c.prototype.hide=function(){var a,b=this;return this._enabled&&this._shown?(this.once("hide",function(){a=b.container.parentNode,null!==a&&a.removeChild(b.container)}),this._hide(),this):this},c.prototype.isShown=function(){return this._shown},c.prototype.width=function(a){return void 0===a?this._options.width:(this.container.style.width=a,this._options.width=a,this.refreshPosition(),this)},c.prototype.height=function(a){return void 0===a?this._options.height:(this.container.style.height=a,this._options.height=a,this.refreshPosition(),this)},c.prototype.refreshPosition=function(a){return this._shown?this._positioner.refresh(a):this._positioner._configure(a),this},c.prototype.enable=function(){return void 0!==this._el&&this._el.setAttribute("aria-disabled",!1),e.enable.call(this),this},c.prototype.disable=function(){return void 0!==this._el&&this._el.setAttribute("aria-disabled",!0),this._shown&&this.hide(),e.disable.call(this),this},c.prototype.destroy=function(){void 0!==this.trigger&&(tiny.off(this.trigger,b.onpointerenter,this._hideTimerCleaner),tiny.off(this.trigger,b.onpointerleave,this._hideTimer),tiny.removeClass(this.trigger,"ch-"+this.name+"-trigger"),this.trigger.removeAttribute("data-title"),this.trigger.removeAttribute("aria-owns"),this.trigger.removeAttribute("aria-haspopup"),this.trigger.removeAttribute("data-side"),this.trigger.removeAttribute("data-align"),this.trigger.removeAttribute("role"),this._snippet.alt?this.trigger.setAttribute("alt",this._snippet.alt):null,this._snippet.title?this.trigger.setAttribute("title",this._snippet.title):null),tiny.off(d,b.onlayoutchange,this._refreshPositionListener),b.viewport.removeListener(b.onresize,this._refreshPositionListener),e.destroy.call(this)},b.factory(c,c.prototype._normalizeOptions)}(this,this.ch),function(a,b){"use strict";var c=a.document;b.Popover.prototype._hidingShortcuts=function(){function a(a){a.target!==d._el&&a.target!==d.container&&0===a.button&&d.hide();
}var d=this;b.shortcuts.add(b.onkeyesc,this.uid,function(){d.hide()}),this.on("show",function(){b.shortcuts.on(d.uid),tiny.on(c,b.onpointertap,a)}).on("hide",function(){b.shortcuts.off(d.uid),tiny.off(c,b.onpointertap,a)}).once("destroy",function(){b.shortcuts.remove(d.uid,b.onkeyesc)})}}(this,this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(c,b.Popover);var d,e=c.super_.prototype;c.prototype.name="layer",c.prototype.constructor=c,c.prototype._defaults=tiny.extend(tiny.clone(e._defaults),{_className:"ch-layer ch-box-lite ch-cone",_ariaRole:"tooltip",shownby:"pointerenter",hiddenby:"pointerleave",side:"bottom",align:"left",offsetX:0,offsetY:10,waiting:'<div class="ch-loading-small"></div>',wrapper:!1}),c.prototype.show=function(a,b){return!this._enabled||this._shown?this:(void 0!==d&&d.name===this.name&&d!==this&&d.hide(),"none"!==this._options.hiddenby&&"button"!==this._options.hiddenby&&(d=this),e.show.call(this,a,b),this)},b.factory(c,e._normalizeOptions)}(this,this.ch),function(a){"use strict";function b(b,c){return c=tiny.extend(tiny.clone(this._defaults),c),new a.Layer(b,c)}b.prototype.name="tooltip",b.prototype.constructor=b,b.prototype._defaults=tiny.extend(tiny.clone(a.Layer.prototype._defaults),{_className:"ch-tooltip ch-cone"}),a.factory(b,a.Layer.prototype._normalizeOptions)}(this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(c,b.Popover);var d=c.super_.prototype;c.prototype.name="bubble",c.prototype.constructor=c,c.prototype._defaults=tiny.extend(tiny.clone(d._defaults),{_className:"ch-bubble ch-box-icon ch-box-error ch-cone",_ariaRole:"alert",shownby:"none",hiddenby:"none",side:"right",align:"center",offsetX:10,content:"Check the information, please."}),c.prototype._init=function(a,b){return d._init.call(this,a,b),this.container.insertAdjacentHTML("beforeend",'<i class="ch-icon-remove-sign"></i>'),this},b.factory(c,d._normalizeOptions)}(this,this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(c,b.Popover);var d=a.document,e=function(){var a=d.createElement("div");return a.innerHTML='<div class="ch-underlay" tabindex="-1"></div>',a.querySelector("div")}(),f=c.super_.prototype;c.prototype.name="modal",c.prototype.constructor=c,c.prototype._defaults=tiny.extend(tiny.clone(f._defaults),{_className:"ch-modal ch-box-lite",_ariaRole:"dialog",width:"50%",hiddenby:"all",reference:b.viewport,waiting:'<div class="ch-loading-large ch-loading-centered"></div>',position:"fixed"}),c.prototype._showUnderlay=function(){function a(b){tiny.removeClass(e,c+"-enter-active"),tiny.removeClass(e,c+"-enter"),tiny.off(b.target,b.type,a)}var b=tiny.support.transition&&"none"!==this._options.fx&&this._options.fx!==!1,c="ch-fx-"+this._options.fx.toLowerCase();d.body.appendChild(e),b&&(tiny.addClass(e,c+"-enter"),setTimeout(function(){tiny.addClass(e,c+"-enter-active")},10),tiny.on(e,tiny.support.transition.end,a))},c.prototype._hideUnderlay=function(){function a(b){tiny.removeClass(e,c+"-leave-active"),tiny.removeClass(e,c+"-leave"),tiny.off(b.target,b.type,a),d.removeChild(e)}var b=tiny.support.transition&&"none"!==this._options.fx&&this._options.fx!==!1,c="ch-fx-"+this._options.fx.toLowerCase(),d=e.parentNode;b?(tiny.addClass(e,c+"-leave"),setTimeout(function(){tiny.addClass(e,c+"-leave-active")},10),tiny.on(e,tiny.support.transition.end,a)):d.removeChild(e)},c.prototype.show=function(a,c){function d(a){g.hide(),a.target.removeEventListener(a.type,d)}if(!this._enabled||this._shown)return this;var g=this;return"all"!==this._options.hiddenby&&"pointers"!==this._options.hiddenby||tiny.on(e,b.onpointertap,d),this._showUnderlay(),f.show.call(this,a,c),this},c.prototype.hide=function(){return this._shown?(tiny.off(e,b.onpointertap),this._hideUnderlay(),f.hide.call(this),this):this},b.factory(c,f._normalizeOptions)}(this,this.ch),function(a){"use strict";function b(b,c){return void 0!==b&&void 0!==c||(c={}),c.content=function(){var a=document.createElement("div"),b=c.waiting||"";return a.innerHTML='<div class="ch-loading-large"></div><p>'+b+"</p>",a.firstChild}(),void 0===b?b=tiny.extend(tiny.clone(this._defaults),c):void 0===b.nodeType&&"object"==typeof b?b=tiny.extend(tiny.clone(this._defaults),b):void 0!==c&&(c=tiny.extend(tiny.clone(this._defaults),c)),new a.Modal(b,c)}b.prototype.name="transition",b.prototype.constructor=b,b.prototype._defaults=tiny.extend(tiny.clone(a.Modal.prototype._defaults),{_className:"ch-transition ch-box-lite",_ariaRole:"alert",hiddenby:"none",content:"Please wait..."}),a.factory(b,a.Modal.prototype._normalizeOptions)}(this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}function d(b,c){var d;d=Array.isArray(b)?b:[b],d.forEach(function(b){if(tiny.on(b,"load",function e(){var f=d.length;a.setTimeout(function(){--f<=0&&c.call(b)},200),b.removeEventListener("load",e)},!1),b.complete||void 0===b.complete){var e=b.src;b.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",b.src=e}})}tiny.inherits(c,b.Layer);var e=c.super_.prototype;c.prototype.name="zoom",c.prototype.constructor=c,c.prototype._defaults=tiny.extend(tiny.clone(e._defaults),{_className:"ch-zoom",_ariaRole:"tooltip",_hideDelay:0,fx:"none",width:"300px",height:"300px",side:"right",align:"top",offsetX:20,offsetY:0,waiting:"Loading zoom..."}),c.prototype._init=function(c,f){e._init.call(this,c,f);var g=this;return this._loaded=!1,this._loading=function(){var a=document.createElement("div");return a.innerHTML='<div class="ch-zoom-loading ch-hide"><div class="ch-loading-large"></div><p>'+g._options.waiting+"</p></div>",a.firstChild}(),this.trigger.appendChild(this._loading),this._seeker=function(){var a=document.createElement("div");return a.innerHTML='<div class="ch-zoom-seeker ch-hide"></div>',a.firstChild}(),this.trigger.appendChild(this._seeker),this._original=this.trigger.children[0],this._zoomed=new a.Image,d(this._original,function(){g._originalLoaded(),tiny.on(a,"resize",g._updateOffset.bind(g))}),d(this._zoomed,function(){g._zoomedLoaded()}),this.on("imageload",function(){tiny.hasClass(this._loading,"ch-hide")||(g.show(),tiny.addClass(this._loading,"ch-hide"))}),tiny.addClass(this.trigger,"ch-zoom-trigger"),tiny.on(this.trigger,"click",function(a){a.preventDefault()},!1),tiny.on(this.trigger,b.onpointermove,function(a){g._move(a)},!1),this},c.prototype._originalLoaded=function(){var a=this._original.width,b=this._original.height;this.trigger.style.width=a+"px",this.trigger.style.height=b+"px",this._loading.style.display="block",this._loading.style.left=(a-this._loading.clientWidth)/2+"px",this._loading.style.top=(b-this._loading.clientHeight)/2+"px",this._loading.style.display="",this._originalWidth=a,this._originalHeight=b,this._updateOffset()},c.prototype._updateOffset=function(){var a=tiny.offset(this._el);this._originalOffsetLeft=a.left,this._originalOffsetTop=a.top,this._positioner.refresh()},c.prototype._zoomedLoaded=function(){this._ratioX=this._zoomed.width/this._originalWidth,this._ratioY=this._zoomed.height/this._originalHeight,this._seekerWidth=a.Math.floor(a.parseInt(this._options.width,10)/this._ratioX),this._seekerHeight=a.Math.floor(a.parseInt(this._options.height,10)/this._ratioY),this._seekerHalfWidth=a.Math.floor(this._seekerWidth/2),this._seekerHalfHeight=a.Math.floor(this._seekerHeight/2),this._seeker.style.cssText="width:"+this._seekerWidth+"px;height:"+this._seekerHeight+"px",this.content(this._zoomed),this._loaded=!0,this.emit("imageload")},c.prototype._move=function(a){if(this._enabled&&this._loaded){var b,c,d=a.pageX||a.clientX+document.documentElement.scrollLeft,e=a.pageY||a.clientY+document.documentElement.scrollTop,f=d-this._seekerHalfWidth,g=e-this._seekerHalfHeight;b=f<=this._originalOffsetLeft?0:d+this._seekerHalfWidth>this._originalWidth+this._originalOffsetLeft?this._originalWidth-this._seekerWidth-2:f-this._originalOffsetLeft,c=g<=this._originalOffsetTop?0:e+this._seekerHalfHeight>this._originalHeight+this._originalOffsetTop?this._originalHeight-this._seekerHeight-2:g-this._originalOffsetTop,this._seeker.style.left=b+"px",this._seeker.style.top=c+"px",this._zoomed.style.cssText="left:"+-this._ratioX*b+"px;top:"+-this._ratioY*c+"px"}},c.prototype.show=function(a,b){return!this._enabled||this._shown?this:this._loaded?(tiny.removeClass(this._seeker,"ch-hide"),e.show.call(this,a,b),this):(tiny.removeClass(this._loading,"ch-hide"),this.loadImage(),this)},c.prototype.hide=function(){return this._shown?this._loaded?(tiny.addClass(this._seeker,"ch-hide"),e.hide.call(this),this):(tiny.addClass(this._loading,"ch-hide"),this):this},c.prototype.loadImage=function(){return this._zoomed.src=this._el.href,this},c.prototype.destroy=function(){var a;a=tiny.parent(this._seeker),a.removeChild(this._seeker),e.destroy.call(this)},b.factory(c,e._normalizeOptions)}(this,this.ch),function(a,b){"use strict";function c(a){return("string"==typeof a||Array.isArray(a))&&(a={selected:a}),a}function d(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(d,b.Component);var e=function(a){return parseInt(a,10)<10?"0"+a:a},f={"YYYY/MM/DD":function(a){return[a.year,e(a.month),e(a.day)].join("/")},"DD/MM/YYYY":function(a){return[e(a.day),e(a.month),a.year].join("/")},"MM/DD/YYYY":function(a){return[e(a.month),e(a.day),a.year].join("/")}},g=function(a){return a="today"===a?new Date:new Date(a),{native:a,day:a.getDate(),order:a.getDay(),month:a.getMonth()+1,year:a.getFullYear()}},h=d.super_.prototype;d.prototype.name="calendar",d.prototype.constructor=d,d.prototype._defaults={monthsNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekdays:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],format:"DD/MM/YYYY"},d.prototype._init=function(a,c){h._init.call(this,a,c);var d=this;return this._snippet=this._el.cloneNode(!0),this._dates={range:{}},this._dates.today=g("today"),this._dates.current=this._dates.today,this._dates.selected=function(){var a=d._options.selected;return a?(Array.isArray(a)?a.forEach(function(b,c){Array.isArray(b)?(a[c][0]="today"!==a[c][0]?g(b[0]):d._dates.today,a[c][1]="today"!==a[c][1]?g(b[1]):d._dates.today):a[c]="today"!==a[c]?g(b):d._dates.today}):a="today"!==a?d._dates.current=g(a):d._dates.today,a):a}(),this._dates.today=g("today"),this._dates.range.from=function(){if(void 0!==d._options.from&&d._options.from)return"today"===d._options.from?d._dates.today:g(d._options.from)}(),this._dates.range.to=function(){if(void 0!==d._options.to&&d._options.to)return"today"===d._options.to?d._dates.today:g(d._options.to)}(),this._prev=document.createElement("div"),this._prev.setAttribute("aria-controls","ch-calendar-grid-"+this.uid),this._prev.setAttribute("role","button"),this._prev.setAttribute("aria-hidden","false"),tiny.addClass(this._prev,"ch-calendar-prev"),this._next=document.createElement("div"),this._next.setAttribute("aria-controls","ch-calendar-grid-"+this.uid),this._next.setAttribute("role","button"),this._next.setAttribute("aria-hidden","false"),tiny.addClass(this._next,"ch-calendar-next"),tiny.on(this._prev,b.onpointertap,function(a){a.preventDefault(),d.prevMonth()}),tiny.on(this._next,b.onpointertap,function(a){a.preventDefault(),d.nextMonth()}),this.container=this._el,this.container.insertBefore(this._prev,this.container.firstChild),this.container.insertBefore(this._next,this.container.firstChild),tiny.addClass(this.container,"ch-calendar"),this.container.insertAdjacentHTML("beforeend",this._createTemplate(this._dates.current)),this._updateControls(),d.container.setAttribute("unselectable","on"),tiny.addClass(d.container,"ch-user-no-select"),this},d.prototype._hasPrevMonth=function(){return void 0===this._dates.range.from||!(this._dates.range.from.month>=this._dates.current.month&&this._dates.range.from.year>=this._dates.current.year)},d.prototype._hasNextMonth=function(){return void 0===this._dates.range.to||!(this._dates.range.to.month<=this._dates.current.month&&this._dates.range.to.year<=this._dates.current.year)},d.prototype._updateControls=function(){return this._hasPrevMonth()?(tiny.removeClass(this._prev,"ch-hide"),this._prev.setAttribute("aria-hidden","false")):(tiny.addClass(this._prev,"ch-hide"),this._prev.setAttribute("aria-hidden","true")),this._hasNextMonth()?(tiny.removeClass(this._next,"ch-hide"),this._next.setAttribute("aria-hidden","false")):(tiny.addClass(this._next,"ch-hide"),this._next.setAttribute("aria-hidden","true")),this},d.prototype._updateTemplate=function(a){var b;return this._dates.current="string"==typeof a?g(a):a,b=this.container.querySelector("table"),this.container.removeChild(b),this.container.insertAdjacentHTML("beforeend",this._createTemplate(this._dates.current)),this._updateControls(),this},d.prototype._createTemplate=function(a){var b,c,d,e,f=this,g=function(){var a,b=['<thead><tr role="row">'];for(a=0;a<7;a+=1)b.push('<th role="columnheader">'+f._defaults.weekdays[a]+"</th>");return b.push("</tr></thead>"),b.join("")}(),h=['<table class="ch-calendar-month" role="grid" id="ch-calendar-grid-'+f.uid+'">',"<caption>"+f._defaults.monthsNames[a.month-1]+" - "+a.year+"</caption>",g],i=function(){var b=new Date(a.year,a.month,0).getDate(),c=new Date([a.year,a.month,"01"].join("/")).getDay(),d=c+b,e=d%7,f=e>0?7-e:0;return{previous:c,subtotal:d,total:d+f}}();for(h.push('<tbody><tr class="ch-calendar-week" role="row">'),b=0;b<i.total;b+=1)b<i.previous||b>i.subtotal-1?h.push('<td role="gridcell" class="ch-calendar-other">X</td>'):(c=b+1,d=c-i.previous,e=this._isSelected(a.year,a.month,d),h.push('<td role="gridcell"'+(e?' aria-selected="true"':"")+' class="ch-calendar-day',a.year===f._dates.today.year&&a.month===f._dates.today.month&&d===f._dates.today.day?" ch-calendar-today":null,e?" ch-calendar-selected ":null,f._dates.range.from&&d<f._dates.range.from.day&&a.month===f._dates.range.from.month&&a.year===f._dates.range.from.year||f._dates.range.to&&d>f._dates.range.to.day&&a.month===f._dates.range.to.month&&a.year===f._dates.range.to.year?" ch-calendar-disabled":null,'">'+d+"</td>"),c%7===0&&h.push('</tr><tr class="ch-calendar-week" role="row">'));return h.push("</tr></tbody></table>"),h.join("")},d.prototype._isInRange=function(a){var b=!0,c=!0;return this._dates.range.from&&(b=this._dates.range.from.native<=a.native),this._dates.range.to&&(c=this._dates.range.to.native>=a.native),b&&c},d.prototype._isSelected=function(a,b,c){var d;if(this._dates.selected){if(d=!1,Array.isArray(this._dates.selected))this._dates.selected.forEach(function(e){if(Array.isArray(e)){if(a>=e[0].year&&b>=e[0].month&&c>=e[0].day&&a<=e[1].year&&b<=e[1].month&&c<=e[1].day)return d=!0}else if(a===e.year&&b===e.month&&c===e.day)return d=!0});else if(a===this._dates.selected.year&&b===this._dates.selected.month&&c===this._dates.selected.day)return d=!0;return d}},d.prototype.select=function(a){if(!a){if(void 0===this._dates.selected)return;return f[this._options.format](this._dates.selected)}var b=g(a);return this._isInRange(b)?(this._dates.selected="today"===a?this._dates.today:b,this._updateTemplate(this._dates.selected),this.emit("select"),this):this},d.prototype.getToday=function(){return f[this._options.format](this._dates.today)},d.prototype.nextMonth=function(){return this._enabled&&this._hasNextMonth()?(12===this._dates.current.month&&(this._dates.current.month=0,this._dates.current.year+=1),this._updateTemplate([this._dates.current.year,this._dates.current.month+1,"01"].join("/")),this.emit("nextmonth"),this):this},d.prototype.prevMonth=function(){return this._enabled&&this._hasPrevMonth()?(1===this._dates.current.month&&(this._dates.current.month=13,this._dates.current.year-=1),this._updateTemplate([this._dates.current.year,this._dates.current.month-1,"01"].join("/")),this.emit("prevmonth"),this):this},d.prototype.nextYear=function(){return this._enabled&&this._hasNextMonth()?(this._updateTemplate([this._dates.current.year+1,this._dates.current.month,"01"].join("/")),this.emit("nextyear"),this):this},d.prototype.prevYear=function(){return this._enabled&&this._hasPrevMonth()?(this._updateTemplate([this._dates.current.year-1,this._dates.current.month,"01"].join("/")),this.emit("prevyear"),this):this},d.prototype.setFrom=function(a){return this._dates.range.from="auto"===a?void 0:g(a),this._updateTemplate(this._dates.current),this},d.prototype.setTo=function(a){return this._dates.range.to="auto"===a?void 0:g(a),this._updateTemplate(this._dates.current),this},d.prototype.destroy=function(){this._el.parentNode.replaceChild(this._snippet,this._el),tiny.trigger(a.document,b.onlayoutchange),h.destroy.call(this)},b.factory(d,c)}(this,this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(c,b.Layer);var d=c.super_.prototype;c.prototype.name="dropdown",c.prototype.constructor=c,c.prototype._defaults=tiny.extend(tiny.clone(d._defaults),{_className:"ch-dropdown ch-box-lite",_ariaRole:"combobox",fx:"none",shownby:"pointertap",hiddenby:"pointers",offsetY:-1,skin:!1,shortcuts:!0}),c.prototype._init=function(a,c){d._init.call(this,a,c);var e=this,f=tiny.next(this.trigger);return this.trigger.setAttribute("aria-activedescendant","ch-dropdown"+this.uid+"-selected"),tiny.addClass(this.trigger,"ch-dropdown-trigger"),this.trigger.setAttribute("unselectable","on"),tiny.addClass(this.trigger,"ch-user-no-select"),this._options.skin?(tiny.addClass(this.trigger,"ch-dropdown-trigger-skin"),tiny.addClass(this.container,"ch-dropdown-skin")):(tiny.addClass(this.trigger,"ch-btn-skin"),tiny.addClass(this.trigger,"ch-btn-small")),this._navigation=function(){var a=f.querySelectorAll("a");return Array.prototype.forEach.call(a,function(a,c){a.setAttribute("role","option"),tiny.on(a,b.onpointerenter,function(){e._navigation[e._selected=c].focus()})}),a}(),this._options.shortcuts&&void 0!==this._navigationShortcuts&&this._navigationShortcuts(),this._options.content=f,this._snippet=this._options.content.cloneNode(!0),this},c.prototype.show=function(a,b){return this._enabled?(d.show.call(this,a,b),this._selected=-1,this):this},c.prototype.destroy=function(){var c=this.trigger;["ch-dropdown-trigger","ch-dropdown-trigger-skin","ch-user-no-select","ch-btn-skin","ch-btn-small"].forEach(function(a){tiny.removeClass(c,a)}),c.removeAttribute("unselectable"),c.removeAttribute("aria-controls"),c.insertAdjacentHTML("afterend",this._snippet),tiny.trigger(a.document,b.onlayoutchange),d.destroy.call(this)},b.factory(c)}(this,this.ch),function(a){"use strict";a.Dropdown.prototype._highlightOption=function(b){var c=this._navigation.length;this._shown&&this._selected!==(b===a.onkeydownarrow?c-1:0)&&(this._selected!==-1&&(this._navigation[this._selected].blur(),this._navigation[this._selected].removeAttribute("id")),b===a.onkeydownarrow?this._selected+=1:this._selected-=1,this._navigation[this._selected].focus(),this._navigation[this._selected].id="ch-dropdown"+this.uid+"-selected")},a.Dropdown.prototype._navigationShortcuts=function(){var b=this;return a.shortcuts.add(a.onkeyuparrow,this.uid,function(a){a.preventDefault(),b._highlightOption(a.shortcut)}),a.shortcuts.add(a.onkeydownarrow,this.uid,function(a){a.preventDefault(),b._highlightOption(a.shortcut)}),this.once("destroy",function(){a.shortcuts.remove(a.onkeyuparrow,b.uid),a.shortcuts.remove(a.onkeydownarrow,b.uid)}),this}}(this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}function d(a){c.prototype[a]=function(b){var c;if(void 0!==b)this.tabpanels[b-1][a]();else{for(c=this.tabpanels.length;c;)this.tabpanels[c-=1][a]();e[a].call(this),this._el.setAttribute("aria-disabled",!this._enabled)}return this}}tiny.inherits(c,b.Component);var e=c.super_.prototype,f=a.location,g=["enable","disable"],h=g.length,i=new RegExp("\\#!?\\/?(.[^\\?|\\&|\\s]+)");for(c.prototype.name="tabs",c.prototype.constructor=c,c.prototype._init=function(a,b){e._init.call(this,a,b);var c=this;return this._currentHash=function(){var a=f.hash.match(i);return null!==a?a[1]:""}(),this._snippet=this._el.cloneNode(!0),this.container=this._el,tiny.addClass(this.container,"ch-tabs"),this.triggers=this.container.children[0],this.triggers.setAttribute("role","tablist"),tiny.addClass(this.triggers,"ch-tabs-triggers"),this.tabpanels=[],this.panel=this.container.children[1],this.panel.setAttribute("role","presentation"),tiny.addClass(this.panel,"ch-tabs-panel"),tiny.addClass(this.panel,"ch-box-lite"),this._tabsPanels=this.panel.children,Array.prototype.forEach.call(this.triggers.getElementsByTagName("a"),function(a,b){c._createTab(b,a)}),this._shown=1,this._hasHash(),this},c.prototype._createTab=function(a,c){var d,e=this,f=this._tabsPanels[a],g={_classNameIcon:null,_classNameTrigger:"ch-tab",_classNameContainer:"ch-tabpanel",toggle:!1};return void 0===f&&(f=document.createElement("div"),f.setAttribute("id",c.href.split("#")[1]),this.panel.appendChild(f),g.content=c.href,g.waiting=this._options.waiting,g.cache=this._options.cache,g.method=this._options.method),g.container=f,d=new b.Expandable(c,g),d._hash=c.href.split("#")[1],d.trigger.setAttribute("role","tab"),d.container.setAttribute("role","tabpanel"),d.on("show",function(){e._updateShown(a+1)}),this.tabpanels.push(d),this},c.prototype._hasHash=function(){this.emit("hide",this._shown);var a=0,b=this.tabpanels.length;for(a;a<b;a+=1)if(this.tabpanels[a]._hash===this._currentHash){this._shown=a+1;break}return this.tabpanels[this._shown-1].show(),this.emit("show",this._shown),this},c.prototype.show=function(a){return this.tabpanels[a-1].show(),this},c.prototype._updateShown=function(a){return this._shown===a?this:(this.emit("hide",this._shown),this.tabpanels[this._shown-1].hide(),this._shown=a,f.hash=this._currentHash=""===this._currentHash?"#!/"+this.tabpanels[this._shown-1]._hash:f.hash.replace(f.hash.match(i)[1],this.tabpanels[this._shown-1]._hash),this.emit("show",this._shown),this)},c.prototype.getShown=function(){return this._shown},c.prototype.content=function(b,c,d){if(void 0===b||"number"!=typeof b)throw new a.Error("Tabs.content(tab, content, options): Expected a number of tab.");return void 0===c?this.tab[b-1].content():(this.tabpanels[b-1].content(c,d),this)};h;)d(g[h-=1]);c.prototype.destroy=function(){this._el.parentNode.replaceChild(this._snippet,this._el),tiny.trigger(a.document,b.onlayoutchange),e.destroy.call(this)},b.factory(c)}(this,this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(c,b.Component);var d=b.onpointertap,e=a.Math,f=a.setTimeout,g=c.super_.prototype,h=function(){var a,b=/^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/,c=document.getElementsByTagName("script")[0].style;for(a in c)if(b.test(a))return a.match(b)[0].toLowerCase();return"WebkitOpacity"in c?"webkit":"KhtmlOpacity"in c?"khtml":""}();c.prototype.name="carousel",c.prototype.constructor=c,c.prototype._defaults={async:0,arrows:!0,pagination:!1,fx:!0,autoHeight:!0,autoMargin:!0},c.prototype._init=function(c,e){g._init.call(this,c,e);var f=this;return this._snippet=this._el.cloneNode(!0),this._list=this._el.children[0],tiny.addClass(this._el,"ch-carousel"),tiny.addClass(this._list,"ch-carousel-list"),this._items=function(){var a=f._list.querySelectorAll("li");return Array.prototype.forEach.call(a,function(a){tiny.addClass(a,"ch-carousel-item")}),a}(),this._mask=document.createElement("div"),this._mask.setAttribute("role","tabpanel"),this._mask.setAttribute("class","ch-carousel-mask"),this._mask.appendChild(this._list),this._el.appendChild(this._mask),this._maskWidth=this._getOuterDimensions(this._mask).width,this._itemWidth=this._getOuterDimensions(this._items[0]).width,this._itemOuterWidth=parseInt(tiny.css(this._items[0],"width")),this._itemExtraWidth=0,this._itemHeight=this._getOuterDimensions(this._items[0]).height,this._itemMargin=0,this._arrowsCreated=!1,this._paginationCreated=!1,this._limitPerPage=0,this._currentPage=1,this._pages=0,this._pageWidth=0,this._async=this._options.async,this._prevArrow=document.createElement("div"),this._prevArrow.setAttribute("role","button"),this._prevArrow.setAttribute("aria-hidden","true"),this._prevArrow.setAttribute("aria-label","Previous elements"),this._prevArrow.setAttribute("class","ch-carousel-prev ch-carousel-disabled"),tiny.on(this._prevArrow,d,function(){f.prev()},!1),this._nextArrow=document.createElement("div"),this._nextArrow.setAttribute("role","button"),this._nextArrow.setAttribute("aria-label","Next elements"),this._nextArrow.setAttribute("aria-hidden","true"),this._nextArrow.setAttribute("class","ch-carousel-next"),tiny.on(this._nextArrow,d,function(){f.next()},!1),this._pagination=document.createElement("div"),this._pagination.setAttribute("role","navigation"),this._pagination.setAttribute("class","ch-carousel-pages"),tiny.on(this._pagination,d,function(b){var c=b.target.getAttribute("data-page");null!==c&&f.select(a.parseInt(c,10))},!1),b.viewport.on("resize",function(){f.refresh()}),this._options.fx||tiny.addClass(this._list,"ch-carousel-nofx"),tiny.support.transition||(this._list.style.cssText+="position:absolute;left:0;"),this._options.pagination&&this._addPagination(),void 0!==this._options.arrows&&this._options.arrows!==!1&&this._addArrows(),this._updateARIA(),this._updateLimitPerPage(),this._updateDistribution(),this},c.prototype._updateARIA=function(){var a,b=this,c=this._items.length+this._async;Array.prototype.forEach.call(this._items,function(d,f){a=e.floor(f/b._limitPerPage)+1,d.setAttribute("aria-hidden",a!==b._currentPage),d.setAttribute("aria-setsize",c),d.setAttribute("aria-posinset",f+1),d.setAttribute("aria-label","page"+a)})},c.prototype._loadAsyncItems=function(){if(0!==this._async){var a=this._currentPage*this._limitPerPage,b=a-this._items.length,c=this._itemWidth+this._itemExtraWidth,d=(c*this._itemHeight/this._itemWidth).toFixed(3),e=["<li",' class="ch-carousel-item"',' style="width:'+(c%1===0?c:c.toFixed(4))+"px;",this._options.autoHeight?"height:"+d+"px;":"",this._options.autoMargin?"margin-right:"+(this._itemMargin%1===0?this._itemMargin:this._itemMargin.toFixed(4))+'px"':'"',"></li>"].join(""),f="",g=0;if(!(b<1)){for(b=this._async<b?this._async:b;b;)f+=e,b-=1,g+=1;this._list.insertAdjacentHTML("beforeend",f),this._items=this._list.querySelectorAll("li"),this._updateARIA(),this._async-=b,this.emit("itemsadd",Array.prototype.slice.call(this._items,-g))}}},c.prototype._addPagination=function(){this._paginationCreated&&this._removePagination();for(var a,b=this,c=[],d=b._pages;d;)a=d===b._currentPage,c.unshift("<span",' role="button"',' aria-selected="'+a+'"',' aria-controls="page'+d+'"',' data-page="'+d+'"',' class="'+(a?"ch-carousel-selected":"")+'"',">"+d+"</span>"),d-=1;b._pagination.innerHTML=c.join(""),b._el.appendChild(b._pagination),b._pagination.setAttribute("unselectable","on"),tiny.addClass(b._pagination,"ch-user-no-select"),b._paginationCreated=!0},c.prototype._removePagination=function(){this._paginationCreated&&(this._pagination.innerHTML="",this._paginationCreated=!1)},c.prototype._standbyFX=function(a){var b=this;this._options.fx&&tiny.support.transition?(tiny.addClass(this._list,"ch-carousel-nofx"),a.call(this),f(function(){tiny.removeClass(b._list,"ch-carousel-nofx")},0)):a.call(this)},c.prototype._updatePages=function(){this._pages=e.ceil((this._items.length+this._async)/this._limitPerPage),this._loadAsyncItems(),this._updateARIA(),this._updateArrows(),this._options.pagination&&this._addPagination()},c.prototype._updateLimitPerPage=function(){var a,b=this._options.limitPerPage,c=e.floor(this._maskWidth/this._itemOuterWidth)||1;void 0!==b&&c>b&&(c=b),c!==this._limitPerPage&&(a=(this._currentPage-1)*this._limitPerPage+1,this._limitPerPage=c,this._updatePages(),this.select(e.ceil(a/c)))},c.prototype._updateDistribution=function(){var a,b,c,d=this._limitPerPage>1,e=this._maskWidth-this._itemOuterWidth*this._limitPerPage,f=this._options.autoMargin?e/this._limitPerPage/2:e/this._limitPerPage,g=d?f:e;g===this._itemExtraWidth&&g>0||(this._itemExtraWidth=g,a=d?this._limitPerPage-1:0,b=this._itemWidth+g,this._itemMargin=this._options.autoMargin&&d?e/a/2:0,this._pageWidth=(this._itemOuterWidth+g+this._itemMargin)*this._limitPerPage,this._standbyFX(function(){this._list.style.cssText=this._list.style.cssText+"; width:"+this._pageWidth*this._pages+"px;"}),c=["width:"+(b%1===0?b:b.toFixed(4))+"px;",this._options.autoHeight?"height:"+(b*this._itemHeight/this._itemWidth).toFixed(4)+"px;":"",this._options.autoMargin?"margin-right:"+(this._itemMargin%1===0?this._itemMargin:this._itemMargin.toFixed(4))+"px;":""].join(""),Array.prototype.forEach.call(this._items,function(a){a.setAttribute("style",c)}),this._mask.style.height=this._getOuterDimensions(this._list).height+"px",this._standbyFX(function(){this._translate(-this._pageWidth*(this._currentPage-1))}))},c.prototype._addArrows=function(){[this._prevArrow,this._nextArrow].forEach(function(a){a.setAttribute("unselectable","on"),tiny.addClass(a,"ch-user-no-select")}),this._el.insertBefore(this._prevArrow,this._el.children[0]),this._el.appendChild(this._nextArrow),this._arrowsCreated=!0},c.prototype._disableArrows=function(a,b){this._prevArrow.setAttribute("aria-disabled",a),this._prevArrow.setAttribute("aria-hidden",a),tiny[a?"addClass":"removeClass"](this._prevArrow,"ch-carousel-disabled"),this._nextArrow.setAttribute("aria-disabled",b),this._nextArrow.setAttribute("aria-hidden",b),tiny[b?"addClass":"removeClass"](this._nextArrow,"ch-carousel-disabled")},c.prototype._updateArrows=function(){this._arrowsCreated&&(1===this._pages?this._disableArrows(!0,!0):1===this._currentPage?this._disableArrows(!0,!1):this._currentPage===this._pages?this._disableArrows(!1,!0):this._disableArrows(!1,!1))},c.prototype._translate=function(){var a=h?h+"Transform":null;return tiny.support.transition?function(b){a&&(this._list.style[a]="translateX("+b+"px)"),this._list.style.transform="translateX("+b+"px)"}:function(a){this._list.style.left=a+"px"}}(),c.prototype._switchPagination=function(a,b){if(this._paginationCreated){var c=this._pagination.children,d=c[a-1],e=c[b-1];d.setAttribute("aria-selected",!1),tiny.removeClass(d,"ch-carousel-selected"),e.setAttribute("aria-selected",!0),tiny.addClass(e,"ch-carousel-selected")}},c.prototype._getOuterDimensions=function(a){var b=a.getBoundingClientRect();return{width:b.right-b.left,height:b.bottom-b.top}},c.prototype.refresh=function(){var a=this,b=this._getOuterDimensions(this._mask).width;return b!==this._maskWidth&&(this._maskWidth=b,this._updateLimitPerPage(),this._updateDistribution(),this.emit("refresh")),this._list.children.length!==this._items.length&&(this._items=this._list.querySelectorAll("li"),this._updatePages(),this._currentPage>this._pages&&this._standbyFX(function(){a.select(a._pages)}),this.emit("refresh")),this},c.prototype.select=function(a){return void 0===a?this._currentPage:!this._enabled||a===this._currentPage||a<1||a>this._pages?this:(this._translate(-this._pageWidth*(a-1)),this._switchPagination(this._currentPage,a),this._currentPage=a,this._updateArrows(),this._loadAsyncItems(),this.emit("select"),this)},c.prototype.prev=function(){return this.select(this._currentPage-1),this.emit("prev"),this},c.prototype.next=function(){return this.select(this._currentPage+1),this.emit("next"),this},c.prototype.enable=function(){
return this._el.setAttribute("aria-disabled",!1),this._disableArrows(!1,!1),g.enable.call(this),this},c.prototype.disable=function(){return this._el.setAttribute("aria-disabled",!0),this._disableArrows(!0,!0),g.disable.call(this),this},c.prototype.destroy=function(){this._el.parentNode.replaceChild(this._snippet,this._el),tiny.trigger(a.document,b.onlayoutchange),g.destroy.call(this)},b.factory(c)}(this,this.ch),function(a,b){"use strict";function c(b){var c=a.parseInt(b,10);return a.isNaN(c)||(b={max:c}),b}function d(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}tiny.inherits(d,b.Component);var e=d.super_.prototype;d.prototype.name="countdown",d.prototype.constructor=d,d.prototype._defaults={plural:"# characters left.",singular:"# character left.",max:500},d.prototype._init=function(a,b){e._init.call(this,a,b);var c,d=this,f="ch-countdown-message-"+d.uid;return this.trigger=this._el,"keyup keypress keydown input paste cut".split(" ").forEach(function(a){tiny.on(d.trigger,a,function(){d._count()})}),d._remaining=d._options.max-d._contentLength(),c=1===d._remaining?d._options.singular:d._options.plural,d.container=function(){var a=tiny.parent(d._el);return a.insertAdjacentHTML("beforeend",'<span class="ch-countdown ch-form-hint" id="'+f+'">'+c.replace("#",d._remaining)+"</span>"),a.querySelector("#"+f)}(),this.on("disable",this._removeError),this},d.prototype._contentLength=function(){return this._el.value.length},d.prototype._count=function(){if(!this._enabled)return this;var a,b=this._contentLength();return this._remaining=this._options.max-b,b<=this._options.max?this._exceeded&&(this._exceeded=!1,this._removeError()):b>this._options.max&&(this.emit("exceed"),this._exceeded=!0,this.trigger.setAttribute("aria-invalid","true"),tiny.addClass(this.trigger,"ch-validation-error"),tiny.addClass(this.container,"ch-countdown-exceeded")),a=(1!==this._remaining?this._options.plural:this._options.singular).replace(/\#/g,this._remaining),this.container.innerText=a,this},d.prototype._removeError=function(){return tiny.removeClass(this.trigger,"ch-validation-error"),this.trigger.setAttribute("aria-invalid","false"),tiny.removeClass(this.container,"ch-countdown-exceeded"),this},d.prototype.destroy=function(){var c=tiny.parent(this.container);c.removeChild(this.container),tiny.trigger(a.document,b.onlayoutchange),e.destroy.call(this)},b.factory(d,c)}(this,this.ch),function(a,b){"use strict";function c(b,c){var d=this;this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50)}function d(a){c.prototype[a]=function(){return this._popover[a](),e[a].call(this),this}}tiny.inherits(c,b.Component);var e=c.super_.prototype,f=["enable","disable"],g=f.length;for(c.prototype.name="datepicker",c.prototype.constructor=c,c.prototype._defaults={format:"DD/MM/YYYY",side:"bottom",align:"center",hiddenby:"pointers"},c.prototype._init=function(a,c){e._init.call(this,a,c);var d=this;return this.field=this._el,this.field.insertAdjacentHTML("afterend",'<i role="button" class="ch-datepicker-trigger ch-icon-calendar"></i>'),this.trigger=tiny.next(this.field),this._calendar=new b.Calendar(document.createElement("div"),c),this._popover=new b.Popover(this.trigger,{_className:"ch-datepicker ch-cone",_ariaRole:"tooltip",content:this._calendar.container,side:this._options.side,align:this._options.align,offsetX:1,offsetY:10,shownby:"pointertap",hiddenby:this._options.hiddenby}),tiny.on(this._popover._content,b.onpointertap,function(a){var b=a.target;"TD"===b.nodeName&&b.className.indexOf("ch-calendar-disabled")===-1&&b.className.indexOf("ch-calendar-other")===-1&&d.pick(b.innerHTML)}),this.field.setAttribute("aria-describedby","ch-popover-"+this._popover.uid),this.field.type="text",this.field.value=this._options.selected?this._calendar.select():this.field.value,this.on("disable",this.hide),this},c.prototype.show=function(){return this._enabled?(this._popover.show(),this.emit("show"),this):this},c.prototype.hide=function(){return this._popover.hide(),this.emit("hide"),this},c.prototype.pick=function(a){return this.field.value=[this._calendar._dates.current.year,this._calendar._dates.current.month,a].join("/"),this._popover.hide(),this.select(this.field.value),this},c.prototype.select=function(a){return a?(this._calendar.select(a),this.field.value=this._calendar.select(),this.emit("select"),this):this._calendar.select()},c.prototype.getToday=function(){return this._calendar.getToday()},c.prototype.nextMonth=function(){return this._calendar.nextMonth(),this.emit("nextmonth"),this},c.prototype.prevMonth=function(){return this._calendar.prevMonth(),this.emit("prevmonth"),this},c.prototype.nextYear=function(){return this._calendar.nextYear(),this.emit("nextyear"),this},c.prototype.prevYear=function(){return this._calendar.prevYear(),this.emit("prevyear"),this},c.prototype.reset=function(){return this.field.value="",this._calendar.reset(),this.emit("reset"),this},c.prototype.setFrom=function(a){return this._calendar.setFrom(a),this},c.prototype.setTo=function(a){return this._calendar.setTo(a),this};g;)d(f[g-=1]);c.prototype.destroy=function(){tiny.parent(this.trigger).removeChild(this.trigger),this._el.removeAttribute("aria-describedby"),this._el.type="date",this._popover.destroy(),e.destroy.call(this)},b.factory(c)}(this,this.ch),function(a,b){"use strict";function c(a){var b;return Array.prototype.forEach.call(this._suggestionsList.childNodes,function(c){c.contains(a)&&(b=parseInt(a.getAttribute("aria-posinset"),10)-1)}),this._highlighted="number"==typeof b?b:null,this._toogleHighlighted(),this}function d(b,c){var d=this;return this._init(b,c),void 0!==this.initialize&&this.initialize(),a.setTimeout(function(){d.emit("ready")},50),this}var e={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};tiny.inherits(d,b.Component);var f=d.super_.prototype,g=tiny.support.touch?b.onpointerdown:"mouseover";d.prototype.name="autocomplete",d.prototype.constructor=d,d.prototype._defaults={loadingClass:"ch-autocomplete-loading",highlightedClass:"ch-autocomplete-highlighted",itemClass:"ch-autocomplete-item",addClass:"ch-box-lite ch-autocomplete",side:"bottom",align:"left",html:!1,_hiddenby:"none",keystrokesTime:150,_itemTemplate:'<li class="{{itemClass}}"{{suggestedData}}>{{term}}<i class="ch-icon-arrow-up" data-js="ch-autocomplete-complete-query"></i></li>',wrapper:!1,minChars:1},d.prototype._init=function(a,d){var e=this;return f._init.call(this,a,d),this._options._itemTemplate=this._options._itemTemplate.replace("{{itemClass}}",this._options.itemClass),this._options.html&&(this._options._itemTemplate=this._options._itemTemplate.replace("{{suggestedData}}","")),this._popover=new b.Popover({reference:this._el,content:this._suggestionsList,side:this._options.side,align:this._options.align,addClass:this._options.addClass,hiddenby:this._options._hiddenby,width:this._el.getBoundingClientRect().width+"px",fx:this._options.fx,wrapper:this._options.wrapper}),this.container=this._popover.container,this.container.setAttribute("aria-hidden","true"),this._suggestionsList=document.createElement("ul"),tiny.addClass(this._suggestionsList,"ch-autocomplete-list"),this.container.appendChild(this._suggestionsList),this._highlightSuggestion=function(a){var b=a.target||a.srcElement,d="LI"===b.nodeName?b:"LI"===b.parentNode.nodeName?b.parentNode:null;null!==d&&c.call(e,d)},tiny.on(this.container,g,this._highlightSuggestion),tiny.on(this.container,b.onpointertap,function(a){var b=a.target||a.srcElement;return"I"!==b.nodeName||e._options.html?void(("LI"===b.nodeName&&b.className.indexOf(e._options.itemClass)!==-1||"LI"===b.parentElement.nodeName&&b.parentElement.className.indexOf(e._options.itemClass)!==-1)&&e._selectSuggestion()):(a.preventDefault(),e._el.value=e._suggestions[e._highlighted],void e.emit("type",e._el.value))}),this.trigger=this._el,this.trigger.setAttribute("aria-autocomplete","list"),this.trigger.setAttribute("aria-haspopup","true"),this.trigger.setAttribute("aria-owns",this.container.getAttribute("id")),this.trigger.setAttribute("autocomplete","off"),tiny.on(this.trigger,"focus",function(){e._turn("on")}),tiny.on(this.trigger,"blur",function(){e._turn("off")}),this._el!==document.activeElement||this._enabled||this._turn("on"),this._highlighted=null,this._suggestions=[],this._originalQuery=this._currentQuery=this._el.value,void 0!==this._configureShortcuts&&this._configureShortcuts(),this},d.prototype._turn=function(c){function d(){g._currentQuery=g._el.value.trim(),a.clearTimeout(g._stopTyping),g._currentQuery.length>=g._options.minChars?g._stopTyping=a.setTimeout(function(){tiny.addClass(g.trigger,g._options.loadingClass),g.emit("type",g._currentQuery)},g._options.keystrokesTime):g.suggest([])}function f(a){e[a.which||a.keyCode]||setTimeout(d,1)}var g=this;if(!this._enabled)return this;this._originalQuery=this._el.value;var h=navigator.userAgent,i=!!/(msie|trident)/i.test(h)&&h.match(/(msie |rv:)(\d+(.\d+)?)/i)[2];return"on"===c?!i||i>9?tiny.on(this.trigger,b.onkeyinput,d):"keydown cut paste".split(" ").forEach(function(a){tiny.on(g.trigger,a,f)}):"off"===c&&(this.hide(),!i||i>9?tiny.off(this.trigger,b.onkeyinput,d):"keydown cut paste".split(" ").forEach(function(a){tiny.off(g.trigger,a,f)})),this},d.prototype._selectSuggestion=function(){return a.clearTimeout(this._stopTyping),null===this._highlighted?this:(this._options.html||(this._el.value=this._suggestions[this._highlighted]),this._el.blur(),this.emit("select"),this)},d.prototype._toogleHighlighted=function(){var a=null===this._highlighted?null:this._highlighted+1,b=this.container.querySelector('[aria-posinset="'+a+'"]'),c=this.container.querySelector("[aria-posinset]."+this._options.highlightedClass);return null!==c&&tiny.removeClass(c,this._options.highlightedClass),null!==b&&tiny.addClass(b,this._options.highlightedClass),this},d.prototype.suggest=function(b){var c,d,e,f,g,h=this,i=[],j=new RegExp("("+this._currentQuery.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")+")","ig"),k=this._options._itemTemplate,l=b.length,m=this.container.querySelector("."+this._options.highlightedClass);if(tiny.removeClass(this.trigger,h._options.loadingClass),0===l)return this._popover.hide(),this;for(this._popover.isShown()||a.document.activeElement!==this._el||this._popover.show(),null!==m&&tiny.removeClass(m,this._options.highlightedClass),e=0;e<l;e+=1)f=b[e],h._options.html||(f=f.replace(j,"<strong>$1</strong>"),k=this._options._itemTemplate.replace("{{suggestedData}}",' data-suggested="'+b[e]+'"')),i.push(k.replace("{{term}}",f));for(this._suggestionsList.innerHTML=i.join(""),d=this.container.querySelectorAll("."+this._options.itemClass),c=d.length,this._suggestions.length=0,e=0;e<c;e+=1)g=d[e],h._suggestions.push(g.getAttribute("data-suggested")),g.setAttribute("aria-posinset",h._suggestions.length),g.setAttribute("aria-setsize",c);return this._highlighted=null,this._suggestionsQuantity=this._suggestions.length,this},d.prototype.hide=function(){return this._enabled?(this._popover.hide(),this.emit("hide"),this):this},d.prototype.isShown=function(){return this._popover.isShown()},d.prototype.disable=function(){return this.isShown()&&(this.hide(),this._el.blur()),f.disable.call(this),this},d.prototype.destroy=function(){tiny.off(this.container,g,this._highlightSuggestion),this.trigger.removeAttribute("autocomplete"),this.trigger.removeAttribute("aria-autocomplete"),this.trigger.removeAttribute("aria-haspopup"),this.trigger.removeAttribute("aria-owns"),this._popover.destroy(),f.destroy.call(this)},b.factory(d)}(this,this.ch),function(a,b){"use strict";a.prototype._configureShortcuts=function(){var a=this;return b.shortcuts.add(b.onkeyenter,this.uid,function(b){b.preventDefault(),a._selectSuggestion()}),b.shortcuts.add(b.onkeyesc,this.uid,function(){a.hide(),a._el.value=a._originalQuery}),b.shortcuts.add(b.onkeyuparrow,this.uid,function(b){b.preventDefault();var c;null===a._highlighted?(a._highlighted=a._suggestionsQuantity-1,c=a._suggestions[a._highlighted]):a._highlighted<=0?(this._prevHighlighted=this._currentHighlighted=null,c=a._currentQuery):(a._highlighted-=1,c=a._suggestions[a._highlighted]),a._toogleHighlighted(),a._options.html||(a._el.value=c)}),b.shortcuts.add(b.onkeydownarrow,this.uid,function(){var b;null===a._highlighted?(a._highlighted=0,b=a._suggestions[a._highlighted]):a._highlighted>=a._suggestionsQuantity-1?(a._highlighted=null,b=a._currentQuery):(a._highlighted+=1,b=a._suggestions[a._highlighted]),a._toogleHighlighted(),a._options.html||(a._el.value=b)}),this._popover.on("beforeshow",function(){b.shortcuts.on(a.uid)}),this._popover.on("beforehide",function(){b.shortcuts.off(a.uid)}),this.on("destroy",function(){b.shortcuts.remove(this.uid)}),this}}(this.ch.Autocomplete,this.ch);var carousel=new ch.Carousel(ch(".demo-carousel")[0],{pagination:!0});